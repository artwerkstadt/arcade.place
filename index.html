<!doctype html>
<html>
<head>
    <link rel="preload" href="/fonts/NiseAstroCity.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="/fonts/Windows-Command-Prompt.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="stylesheet" href="/css/animations.css?v=1" />
    <link rel="stylesheet" href="/css/fonts.css?v=1" />
    <link rel="stylesheet" href="/css/glitch.css?v=1" />
    <link rel="stylesheet" href="/css/crt.css?v=1" />
    <link rel="stylesheet" href="/css/main.css?v=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>.:: arcade.place | arcadia xmas'22</title>
</head>
<body>
    <main class="container crt">
        <div class="grid no-interaction"></div>
        <div class="grid-fade"></div>
        <div class="content">
            <div class="menu-bar no-interaction">
                <div class="insert-coin"><span class="crt__text">Insert Coin(s)</span></div>
                <button class="button mute-button is-hidden"><img src="./img/mute-icon.svg?v=1"></button>
                <button class="button listen-button"><img src="./img/speaker-icon.svg?v=1"></button>
                <div class="credits ">Credit(s) 0</div>
            </div>

            <div class="glitch__container no-interaction">
                <h1 class="glitch crt__text">Arcadia Xmas'22</h1>
            </div>
            <p class="date no-interaction">12/25/22</p>
            <marquee class="marquee no-interaction">Wind Jammers | Puzzle Bobble | Golden Eye | Street Fighter 2X | Teenage Mutant Ninja Turtles: Turtles in Time | Street Fighter Zero 3 | Elevator Action Returns | Fifa 2X | Mega Man X | Mario Kart 64 | Tony Hawk's Pro Skater 1 + 2</marquee>
            <p class="request-invite no-interaction">Request invite:</p>
            <form class="signup-form no-interaction">
                <input type="text" id="email" name="email" placeholder="E-Mail">
                <input type="submit" name="submit" value="Request">
            </form>
            <div class="success crt__text">Press Start</div>
        </div>
    </main>

    <audio id="player" preload loop>
        <source src="tracks/punch-deck-edit.mp3?v=1" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>
    
</body>
<script>
    const credits = document.querySelector(".credits");
    const success = document.querySelector(".success");
    const signupForm = document.querySelector(".signup-form");
    const requestInvite = document.querySelector(".request-invite");

    signupForm.onsubmit = (e) => {
        e.preventDefault();
        credits.innerText = "Credit(s) 1";
        signupForm.classList.add("is-hidden");
        requestInvite.classList.add("is-hidden");
        success.classList.add("is-visible");
    }

    // starts audioplayer
    const audioPlayer = document.getElementById('player');
    let bodyWasClicked = false;
    document.body.onclick = () => {
        if (!bodyWasClicked) {
            bodyWasClicked = true;
            audioPlayer.play();
            document.querySelectorAll(".no-interaction").forEach(item => {
                item.classList.remove("no-interaction");
            })
        }
    }

    const muteButton = document.querySelector(".mute-button");
    const listenButton = document.querySelector(".listen-button");
    muteButton.onclick = () => {
        audioPlayer.play();
        muteButton.classList.add("is-hidden");
        listenButton.classList.remove("is-hidden");
    }
    listenButton.onclick = () => {
        audioPlayer.pause();
        listenButton.classList.add("is-hidden");
        muteButton.classList.remove("is-hidden");
    }
</script>
</html>